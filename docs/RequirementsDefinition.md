# 楽曲管理アプリ — 実装済み部分に限定した要件定義書
バージョン: 1.0  
作成日: 2025-12-19  
作成者: TatsuyaOkamotoTechno

> 注意: 本書はリポジトリ内で実際に確認できた実装（あるいは明確に配置されている設定や依存）だけを根拠に作成しています。リポジトリ参照時の情報は一部不完全である可能性があります（詳細確認が必要な箇所は「確認事項」に明記）。添付ファイルやリポジトリのファイル自体には変更を加えません。

---

## 1. 目的
研修で作成中の楽曲管理アプリについて、現在リポジトリ上で実際に実装（または設定）されている箇所のみを対象に要件をまとめ、今できること・できないことを明確にします。初心者でも分かるように、実行方法や確認事項も記載します。

## 2. 確認できたリポジトリの構成（根拠）
リポジトリ内で直接確認できたファイル・ディレクトリおよびpom.xmlの依存関係等を根拠に、実装済み（または準備済み）と見なす項目を列挙します。

- ビルド／実行周り
  - Maven Wrapper: `mvnw`, `mvnw.cmd` が存在（ローカルでビルド・実行しやすい）。
  - `pom.xml` が存在し、プロジェクト定義がある（Java 17 指定）。
- フレームワーク・ライブラリ（pom.xml に記載）
  - Spring Boot（spring-boot-starter-parent を使用）
  - spring-boot-starter-web（Web アプリケーション）
  - spring-boot-starter-thymeleaf（サーバーサイドテンプレート）
  - spring-boot-starter-jdbc（JDBC）
  - mybatis-spring-boot-starter（MyBatis 連携）
  - H2（組み込み/ランタイム DB）
  - lombok（開発用アノテーション）
  - spring-boot-devtools（開発時の Hot reload 等）
  - テスト用の依存（spring-boot-starter-test 等）
- ソース／リソース構成
  - `src/main`、`src/main/java`、`src/main/resources` が存在（Java アプリケーション構成が準備されている）。
  - パッケージディレクトリ（`src/main/java/com/example/mugic_management`）が存在。

（上記はpom.xml とリポジトリのディレクトリ構成から確認できる事実に基づきます）

## 3. 実装済み（または準備済み）機能一覧
リポジトリ内の現状で「実際に使える／動作させることが想定できる」機能を、初心者にも分かるように整理します。

- プロジェクトのビルド・起動基盤
  - Maven によるビルド設定があるため、ローカルでビルド・起動が可能（Main クラス等の存在は未確認なため、起動の可否は実行時に要確認）。
- Web アプリケーション基盤
  - Spring Boot + spring-boot-starter-web により、HTTP サーバ／ルーティングの土台が構築可能。
- サーバサイド画面レンダリング
  - Thymeleaf の依存が含まれているため、HTML テンプレートを用いたサーバサイドレンダリングが想定されている（テンプレート実体の有無は要確認）。
- データアクセス基盤
  - JDBC と MyBatis の依存があるため、リレーショナルDBに接続してデータ操作を行う土台が準備されている。
- 組み込み DB（実行時）
  - H2 データベースがランタイム依存に入っているため、簡易的にデータをローカルで保持して動作確認できる可能性が高い。
- 開発体験の改善
  - devtools, lombok により開発時の利便性が向上している。

注: 「楽曲の登録・編集・検索」といった具体的なドメイン機能（CRUD API、画面、DBテーブル、マッパーのSQL等）が実装されているかどうかは、該当ソース（コントローラ、サービス、リポジトリ／Mapper、templates 等）の中身を確認する必要があります。現状は上記の基盤（フレームワーク、依存、ディレクトリ構成）が準備されていることが確実に確認できています。

## 4. 機能要件（「実装済み基盤」に限定）
以下は「現在リポジトリに存在する基盤を使って期待できる振る舞い」を要件として表現したものです。これらは必須受入基準（最小）です。

- FR-BUILD-01: ビルド
  - 要件: プロジェクトは Maven でビルド可能であること。
  - 受入基準: リポジトリルートで `./mvnw -v` が実行できること（Maven Wrapper の動作確認）。
- FR-RUN-01: アプリケーション起動（期待）
  - 要件: Spring Boot アプリケーションが起動できること（Main クラスが存在する場合）。
  - 受入基準: `./mvnw spring-boot:run` または生成された JAR を `java -jar` で起動し、プロセスが立ち上がること（HTTPポートのバインドはログで確認）。
- FR-WEB-01: Web レイヤー基盤
  - 要件: Spring Web による HTTP 受け付けができる土台があること。
  - 受入基準: 起動ログに Spring Web のメッセージが出力され、サーバがバインドされていること（例: port 8080）。
- FR-TPL-01: テンプレートエンジン（準備済）
  - 要件: Thymeleaf が組み込まれており、テンプレートが配置されていればレンダリング可能であること。
  - 受入基準: templates 配下に Thymeleaf テンプレートがあり、対応するコントローラが存在すれば画面が表示されること。
- FR-DB-01: ローカル DB（開発用）
  - 要件: H2 の導入により、ローカルで簡易 DB を使った動作確認が可能であること。
  - 受入基準: 起動時に H2 関連のログが出力される、あるいは接続が成功すること。
- FR-MYBATIS-01: MyBatis 設定（依存追加）
  - 要件: MyBatis の依存があるため、Mapper を実装すれば DB 操作ができること（設定ファイル・Mapperが必要）。
  - 受入基準: Mapper クラス/XML が存在している場合、MyBatis が起動時にスキャンして使用可能であること。

（上記は「基盤が実装済み」であることに根拠を置いた要件であり、個々のドメイン機能の実装有無は要確認です）

## 5. 非機能要件（現状で満たされている想定）
- NFR-DEV-01: 開発しやすさ
  - devtools と lombok を利用することでローカル開発が容易。
- NFR-ENV-01: ローカル実行
  - H2 により外部DBなしでローカル動作確認が可能。

## 6. 受入基準（短く）
- プロジェクトがローカルでビルドできること（Maven）。
- Spring Boot アプリが起動ログを出力すること（Main クラスがリポジトリにあれば）。
- 起動時に Spring Boot、Thymeleaf、MyBatis、H2 に関するログが確認できること。

## 7. 実行（確認）方法（初心者向け）
1. リポジトリをローカルにクローンする。
2. ターミナルでリポジトリルートに移動。
3. 実行（UNIX系の場合）:
   - ビルド・起動確認: `./mvnw spring-boot:run`
   - (Windows) `mvnw.cmd spring-boot:run`
4. 起動ログを確認して、サーバがバインド（例: "Tomcat started on port(s): 8080" のような出力）しているかを見てください。
5. ブラウザで http://localhost:8080 にアクセスして応答があるか確認（テンプレートやコントローラが未実装の場合は404等になることがあります）。

注: Main クラス（SpringBootApplication アノテーションのクラス）やコントローラ、テンプレートの有無により実際の画面表示・APIは変わります。表示されない場合は `src/main/java` 配下のソースを確認してください。

## 8. 確認事項（ユーザーへ／次に必ず確認すること）
以下は本書で「不確か」と判断した点です。次ステップで必ず実際のファイル中身を確認してください。

1. `src/main/java/com/example/mugic_management` 配下に Main クラス（@SpringBootApplication）やコントローラ、サービス、Mapper 等の実装があるか。
2. `src/main/resources/templates`（Thymeleaf テンプレート）の有無と内容。
3. MyBatis の Mapper XML / Mapper インターフェース、及び DB スキーマ定義（schema.sql 等）の有無。
4. アプリ起動時の application.properties / application.yml の設定内容（ポート、H2コンソール有効化など）。
5. 具体的なドメイン（Song, Artist 等）のエンティティ・テーブル定義や CRUD 実装の有無。

これらを確認できれば、本書に記載した「基盤」から実際の楽曲 CRUD 等の機能要件に落とし込めます。

## 9. まとめ（短く）
現状、リポジトリには Spring Boot による Web アプリケーション基盤（Thymeleaf, JDBC, MyBatis, H2 を含む）が準備されていることが確認できました。 ただし、具体的な楽曲管理の CRUD 機能や画面が既に実装されているかはソースの中身確認が必要です。本書は「現状リポジトリから確実に読み取れる実装範囲」に限定した要件定義です。

---

もしよろしければ、次に私の方でやること（あなたが希望する作業）を教えてください。たとえば:
- リポジトリ内の特定ファイル（Main クラス、コントローラ、templates等）の中身を見て、実装済みの画面・APIを抽出する
- 実装されている CRUD を元に受入基準・テストケースを作る
- 無ければ簡単な「楽曲登録の最小実装（Controller + Service + Mapper + template）」のサンプルを作成する

上記のいずれかを指定いただければ、次のステップに進めます（ソース確認が必要な場合は該当ファイル名を教えてください）。